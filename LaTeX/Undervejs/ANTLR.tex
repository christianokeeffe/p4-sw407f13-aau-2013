\subsection{ANTLR}
ANTLR (ANother Tool for Language Recognition) is a tool for generating a parser or lexer-parser from a given grammar. The ANTLR starts by generating the lexer based on the lexer rules that are define in the grammar. Lexer rules is written with an upper-case beginnings letter so that ANTLR can distinguish between lexer rules and parser rules.
In the SPLAD language it have been decided that a lexer rule should be written in all upper-case. This is done in order to better distinguish between lexer parser rules when writing or reading the grammar. Lexer starts from the top of the rules and works its way down through the rules, meaning that it will try to generate tokens from the very first rule and works its way down until it meets a possible match between a given input and the a rule. Because of this the most complex rules should be placed first in the grammar in order for the lexer to generate the correct tokens. \fxfatal{lav ref til ANTLR Lexer doc}
The token stream from the lexer are then parsed following the parser rules that have been defined in the grammar. Parser rules are written with all lower-case in contrast to the lexer rules. ANTLR works with $LL(*)$ grammars which means that the parser uses left-most derivation to parse the token stream. \fxfatal{lav ref til ANTLR doc parser}ANTLR can generate a abstract syntax tree for the grammar by incorporating specific operators in the grammar that tells if an element should be a root node of a subtree with its children or if an element should be left out of the tree construction. ANTLR also allows the use of rewritten rules to generate a tree from the given grammar \fxfatal{http://www.antlr.org/wiki/display/ANTLR3/Tree%2Bconstruction}.

\begin{code}{lst:HeeloWoorld}{Here the code for the simple "Hello world" program can be seen.}
\begin{lstlisting}
function setup return nothing using()
begin
	/*Do something*/
	return nothing;
end

function LCDPrint return nothing using(string text)
begin
	/*Function to write a string to the LCD connected to the arduino*/
		
	return nothing;
end

function makedrink return nothing using()
begin
	string message <-- "Hello World!";
	call LCDPrint(message);
	return nothing;
end
\end{lstlisting}
\end{code}

The ANTLR library comes with a tool for testing the generate lexer and parser. The tool, (test rig), allows for parsing some code and get it represented
in a GUI or tree representation. This have been done for a simply "Hello world" program, see listing \ref{lst:HeeloWoorld}, to show how a program is parsed and represented using the GUI option.

\figur{1.0}{ParsedCode.png}{On this figure the parse tree for the parsed program "Hello world" can be seen.}{fig:parsecode}

On figure \ref{fig:parsecode} a parse tree for the "Hello world" program can be seen. Derivations are illustrated by being children of the parent node, see section \fxfatal{ref til afsnittet som parsetrÃ¦er} for more about parse trees