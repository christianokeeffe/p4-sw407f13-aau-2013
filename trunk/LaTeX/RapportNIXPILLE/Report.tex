\input{preamble}

\begin{document}	% Starter dokumentet - obligatorisk

\frontmatter % Forindhold - nummereres med romertal
\newcommand{\ind}[1]{\input{formalia/#1}}

\ind{FormaliaForside}
\cleardoublepage % Indsætter tom side (hvis nødvendigt)

\ind{FormaliaTitelblad}
\cleardoublepage
\ind{FormaliaProlog.tex}
\\\\
\ind{FormaliaUnderskriftsside.tex}
\cleardoublepage

%%%% Indholdsfortegnelse (TOC) %%%%


\setlength\parskip{0ex} % Fjerner den vertikale afstand mellem hver linie i indholdsfortegnelse
\tableofcontents* % Indholdsfortegnelsen 
\setlength{\parskip}{3mm} % Aktiverer afstanden igen for resten af rapporten (afstem med preamble!)

%\addtocontents{toc}{\protect\newpage} % Fremtvinger sideskift i indholdsfortegnelsen hvis nødvendig


\label{marker}
\mainmatter

 % Hovedindhold - nummereres fra side 1
\makeevenfoot{custom}{Page \thepage~of \pageref{LastPage}}{}{}	% Definerer lige siders sidefod efter modellen \makeevenfoot{Navn}{Venstre}{Center}{Højre}
\makeoddfoot{custom}{}{}{Page \thepage~of \pageref{LastPage}}% Definerer ulige siders sidefod efter modellen \makeoddfoot{Navn}{Venstre}{Center}{Højre}		
\pagestyle{custom}

%%%% Rapportindhold %%%%
\renewcommand{\ind}[1]{\input{indhold/Introduction/#1}}
\chapter{Introduction}
\label{chap:intro}
\ind{Introduction}
\ind{EnviromentForThisProject}
\ind{SolutionInBars}
\ind{ProblemStatement}
\ind{ReportStructure}

\renewcommand{\ind}[1]{\input{indhold/LanguageSpecification/#1}}
\chapter{Language Specification}
\label{chap:lanspec}
\ind{LanguageSpecificationIntro}
\ind{ParadigmsOfProgrammingLanguage}
\section{Design Criteria}
\label{sec:designcriteria}
\ind{DesignCriteriaIntro}
\ind{ProgrammingAnArduino-basedDrinks-machine}
\ind{DesignCriteriaInThisProject}
\section{Syntax}
\ind{SyntaxIntro}
\ind{GrammarTypes}
\ind{Grammar}
\ind{ChoiceOfGrammar}
\ind{spectopurpose}
\ind{bnfintro}
\ind{BNF7}
\section{Semantics}
\ind{SemanticsIntro}
\ind{ScopeRules}
\ind{Semantics}
\subsection{Transition Rules}
\ind{TheoryTransitionRules}
\ind{InformalTypeRules}
\ind{FormalTypeRules}
\ind{requiredfunctions}
\section{Code Examples}

\renewcommand{\ind}[1]{\input{indhold/Implementation/#1}}
\chapter{Implementation}
\label{chap:implementation}
\ind{EvaluationCriteria}
\section{Architecture}
\ind{Architecture}	
\ind{Hardware}
\ind{OverviewCompiler}
\ind{compilerchoice}
\ind{languageprocessing}
\ind{CompilationPasses}
\ind{AbstractSyntaxTrees}
\ind{ParseTree}
\subsection{The Visitor Pattern}
\ind{SyntacticAnalysis}
\ind{KnownLexersAndParsers}
\ind{ANTLR}
\ind{LexicalAnalyzer}
%\subsubsection{Scanner Class Generation}
\ind{Tokens}
\ind{Parser}
\ind{ContextualAnalysis}
\ind{Scoping}
\ind{Typechecking}
\ind{TheoryCodeGeneration}
\ind{CodeGeneration}
\ind{UnitTests}
\ind{ComponentSetup}

\renewcommand{\ind}[1]{\input{formalia/#1}}
\chapter{Conclusion}
\input{formalia/FormaliaKonklusion}


%%%% Kilder %%%
\begingroup
	\raggedright
	\bibliography{BibTeX/sources}{}	% Litteraturlisten
\endgroup

%%%% Fixme-listen %%%%

\newpage
\listoffixmes	% Fixme-listen - fjernes til sidst i projektet med "%"

\clearforchapter
\appendix	% Appendiks/bilag start - giver chapter bogstaver i stedet for talf
\addtocontents{toc}{\protect\cftpagenumbersoff{chapter}} % Fjernelse af nummerering af bilag i TOC

\settocdepth{chapter}	% Sætter dybden af indholdsfortegnelsen til chapter for bilagene

\renewcommand{\ind}[1]{\input{appendix/#1}}
%%%% Appendiks %%%%
%%%% Bilag %%%%
\chapter{Semantics}
\ind{TransitionRules}
\ind{fullcodeapp}
\end{document}