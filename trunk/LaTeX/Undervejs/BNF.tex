\input{../preamble.tex}

\begin{document}

\begin{grammar}
<letter> $\ra$ [a - z]
	\alt [A - Z]

<digit> $\ra$ [0 - 9]

<program> $\ra$ <roots>

<roots> $\ra$ <root>
\alt <root> <roots>

<root> $\ra$ <function>
\alt <dcl>;

<dcl> $\ra$ <type> <id>
\alt <type> <assign>

<id> $\ra$ <letter>
	\alt<id> <letter>
	\alt<id> <digit>

<assign>  $\ra$ <id> "<--" <expr>

<type> $\ra$ <primitive-type>
\alt <array-type>

<primitive-type> $\ra$ bool
\alt double
\alt int
\alt char

<array-type> $\ra$ <type> [ ]
\alt string

<function> $\ra$  function <id> returns <type> using (<params>)
begin
	<stmts>
	return <expr>;
end
\alt function <id> returns nothing using (<params>)
begin
	<stmts>
	return nothing;
end

<params> $\ra$ <subparams>
	\alt $\eps$

<subparams> $\ra$ <type> <id>, <subparams>
\alt <type> <id>

<stmts> $\ra$ <stmt>
	\alt <stmt><stmts>

<stmt> $\ra$ <assign>;
	\alt <if>
	\alt <while>
	\alt <from>
	\alt $\eps$
	\alt <dcl>;
	\alt <functioncall>;
	\alt <switch>

<switch> $\ra$ switch (<expr>)
		begin
			<cases>
		end

<cases> $\ra$ case <expr>:
			<stmts>
		<endcase>
		
<endcase> $\ra$ <cases>
		\alt break;
		\alt break;
		<cases>
		\alt default:
			<stmts>
			break;
		\alt break;
		default:
			<stmts>
			break;

<expr> $\ra$ <expr>+<term>
	\alt<expr>-<term>
	\alt<term>

<term> $\ra$ <term> * <factor>
	\alt <term> / <factor>
	\alt <factor>

<factor> $\ra$ ( <expr> )
	\alt <id>
	\alt <plusminus><digit>
	\alt <plusminus><nummeric>
	\alt ''<string>''

<plusminus> $\ra$ $\eps$
	\alt -

<nummeric> $\ra$ <digit>
	\alt <digit><nummeric>
	\alt .<digitonly>

<digitnonly> $\ra$ <digit>
	\alt <digit> <digitonly>

<string> $\ra$ <letter>
\alt <digit>
\alt <symbols>
\alt <symbols> <string>
\alt <digit> <string>
\alt <letter> <string>
\alt $\eps$

<symbols> $\ra$ !
\alt \%
\alt \^
\alt \&
\alt *
\alt (
\alt )
\alt \_
\alt +
\alt |
\alt \~
\alt -
\alt =
\alt \`
\alt \{
\alt \}
\alt [
\alt ]
\alt :
\alt ;
\alt '
\alt ?
\alt ,
\alt .
\alt /
\alt ' '

<from> $\ra$ from <expr> to <logexpr> step <expr>
	begin
		<stmts>
	end 

<while> $\ra$ while(<logexpr>)
		begin
			<stmts>
		end

<if> $\ra$ if(<logexpr>)
	begin
		<stmts>
	<endif>

<endif> $\ra$ end
	else <if>
	\alt end
	else
	begin
		<stmts>
	end
	\alt end

<logexpr> $\ra$ <logexpr> OR <andcomp>
		\alt <andcomp>

<andcomp> $\ra$ <andcomp> AND <comp>
		\alt<comp>

<comp> $\ra$ <boolean-operand> <comparison-operator> <boolean-operand>

<boolean-operand> $\ra$ true
		\alt false
		\alt <expr>
		\alt <boolean>

<boolean> $\ra$ !(<logexpr>)
		\alt (<logexpr>)

<comparison-operator> $\ra$ ">"
				\alt "<"
				\alt "<= "
				\alt ">="
				\alt "!="
				\alt "="

<functioncall> $\ra$ call <id>(<params>)

\end{grammar}
\end{document}