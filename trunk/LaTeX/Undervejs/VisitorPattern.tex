\subsection{Visitor pattern}
Visitor pattern is for traversing a AST during semantic analysis and code generation, to help manage space of potential phase and node interactions. A phase made by writing \textit{visit} methods in the phase's class, where there is one for each kind node for which some action must be performed.

here is an example on how the it can look like this:

$f.visit(\textbf{AbstractNode$ $n})$ 

Single dispatch is used by most object-oriented languages do single dispatch to determine which $visit$ must be use. This method is based on the actual type of the receiver object $f$. But there is a few problem with single dispatch, with is that it find a match for based on the declared type of its parameters when it is called. For example if a phase contained a method $visit(IfNode$ $n)$, it will not invoked an a actual $IfNode$, this is because the is based on the declared type $(AbstractNode)$ of the supplied parameter.

Another option is to use double dispatch, this is use to allows to invoke $visit$ the compiler's phase $f$ and the supplied node $n$ actual type.